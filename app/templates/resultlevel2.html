{% extends "base.html" %}
{% set title = 'Second Order Query Results' %}
{% block content %}

	<style type="text/css">
	.value-cell {
		text-align: left;
	}

	table, th, td {
    border: 1px solid grey;
	}
	
	</style>	

	<!--Test
	<p id="demo">Test</p>
	-->
	<h4 class="header">Fault BreakDown for the {{ total }} '{{ make }} {{ model }}'s with '{{ level1 }}' issues</h4>
	<table cellspacing="50" class="tabledesc">
		
		<tr>
		    <th class="header">Top-Level Description Selected</th>
		    <th class="header">Fault Full Description</th>
		    <th class="header">Count of Vehicles with this Description</th>		  	
	    </tr>
		
		
		{% for record in results %}
			<tr id="{{ index }}">
				<td>				
					<b>{{ record.level1 }}</b>						
				</td>
				<td class="value-cell">
				{{ record.level2 + ' ' + record.level3 }}
				</td>
				<td class="value-cell">
				{{ record.count }} ({{ ((100*record.count)/total)|round(1) }}%)
				</td>				
			</tr>			
		{% endfor %}
	</table>

{% endblock %}